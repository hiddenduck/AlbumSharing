syntax = "proto3";

package file;

option java_multiple_files = true;

service File {

  rpc fileMany(stream FileMessage) returns (stream FileMessage);
}

message FileMessage {

  CommandType command = 1;
  bytes key = 2;

  message Data{
    bytes bytes = 1;
    bool end = 2;
  }

  optional Data data = 3;
}

enum CommandType {
  I_WANT = 0;
  I_HAVE = 1;
}